{"id":"jetstream-turbo-8wr","title":"Add SQLite PRAGMA optimizations for 2-5x faster writes","description":"Add SQLite PRAGMA statements after connection to optimize write performance:\n\n- PRAGMA synchronous = NORMAL (faster than FULL, still safe with WAL)\n- PRAGMA cache_size = -64000 (64MB page cache)\n- PRAGMA temp_store = MEMORY (keep temp tables in memory)\n- PRAGMA mmap_size = 268435456 (256MB memory-mapped I/O)\n\nExpected impact: 2-5x faster batch inserts, especially for the hot write path.","status":"closed","priority":1,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T17:39:10.297404-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T17:40:02.560232-08:00","closed_at":"2026-02-13T17:40:02.560232-08:00","close_reason":"Successfully implemented SQLite PRAGMA optimizations: synchronous=NORMAL, cache_size=-64000 (64MB), temp_store=MEMORY, mmap_size=268435456 (256MB). All 47 tests pass."}
{"id":"jetstream-turbo-9ux","title":"Implement major performance optimizations: batching and parallelism","description":"Implement critical performance optimizations to improve throughput and reduce latency in jetstream-turbo.\n\n## Optimizations Required:\n\n### 1. SQLite batch inserts\n**Current:** Individual INSERT statements in orchestrator.rs\n**Target:** Use store_batch() for bulk inserts\n**Expected gain:** Significant reduction in SQLite write overhead\n\n### 2. Parallelize SQLite + Redis operations\n**Current:** Sequential operations per batch\n**Target:** Run SQLite writes and Redis operations concurrently using tokio::join! or FuturesUnordered\n**Expected gain:** Better utilization of I/O parallelism\n\n### 3. Parallel message hydration\n**Current:** Sequential message processing\n**Target:** Use FuturesUnordered for concurrent hydration of multiple messages\n**Expected gain:** Reduced latency for batch processing\n\n### 4. Buffer reuse optimization\n**Current:** Using drain().collect() which allocates new Vec\n**Target:** Use Vec::clear() to reuse existing buffer allocation\n**Expected gain:** Reduced allocation pressure and GC overhead\n\n## Success Criteria:\n- All four optimizations implemented\n- Benchmarks show measurable improvement\n- No regression in correctness or reliability","status":"closed","priority":1,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T17:13:47.264059-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T17:14:54.589927-08:00","closed_at":"2026-02-13T17:14:54.589927-08:00","close_reason":"Successfully implemented all four major performance optimizations: 1) SQLite batch inserts using store_batch(), 2) Parallelized SQLite + Redis operations with tokio::join!, 3) Parallel message hydration using FuturesUnordered, 4) Buffer reuse with Vec::clear() instead of drain().collect(). All tests pass."}
{"id":"jetstream-turbo-bew","title":"Implement Arc-based cache to eliminate cloning overhead","description":"Replace BlueskyProfile and BlueskyPost clones with Arc\u003c\u003e references in the cache to eliminate heap allocations on cache hits.\n\n## Changes Required:\n1. cache.rs: Store Arc\u003cBlueskyProfile\u003e and Arc\u003cBlueskyPost\u003e instead of owned values\n2. enriched.rs: Update HydratedMetadata to use Arc\u003c\u003e for profile fields  \n3. hydrator.rs: Update cache usage to wrap values in Arc::new()\n4. Tests: Update to work with Arc\u003c\u003e types\n\n## Expected Impact:\n- 10-50x faster cache hits (atomic increment vs heap allocations)\n- Reduced memory pressure from eliminated clones\n- Better CPU cache locality\n\n## Verification:\n- All tests pass\n- No performance regressions\n- Serde serialization works correctly with Arc\u003c\u003e","status":"closed","priority":1,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T17:22:20.511365-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T17:25:14.2331-08:00","closed_at":"2026-02-13T17:25:14.2331-08:00","close_reason":"Successfully implemented Arc-based cache optimization. Cache now stores Arc\u003cBlueskyProfile\u003e and Arc\u003cBlueskyPost\u003e instead of owned values, eliminating heap allocations on cache hits. All 47 tests pass."}
{"id":"jetstream-turbo-cyc","title":"Switch Jetstream message parsing to simd-json for 2-4x performance improvement","description":"The project has simd-json = 0.14 in dependencies but all parsing uses serde_json::from_str(). The hot path for parsing WebSocket messages is src/client/jetstream.rs:147-157. We need to:\n\n1. Update parse_message() to use simd_json::from_str() instead of serde_json::from_str()\n2. Update error handling (already has simd_json::Error variant)\n3. Benchmark the improvement\n\nsimd-json typically provides 2-4x faster parsing than serde_json for JSON messages.","status":"closed","priority":1,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T17:04:56.637747-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T17:06:16.772946-08:00","closed_at":"2026-02-13T17:06:16.772946-08:00","close_reason":"Successfully switched Jetstream message parsing to simd-json. The parse_message() function now uses simd_json::from_str() with proper unsafe block documentation. All tests pass."}
{"id":"jetstream-turbo-lvd","title":"Add local development instructions to README, CLI, and error messages","status":"closed","priority":2,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-12T18:49:47.874365-08:00","created_by":"Chris Griffing","updated_at":"2026-02-12T18:50:35.265258-08:00","closed_at":"2026-02-12T18:50:35.265258-08:00","close_reason":"Completed: Added Quick Start section to README, enhanced CLI help with setup instructions and examples, improved error messages with actionable setup steps"}
{"id":"jetstream-turbo-t7o","title":"Performance: Rust slower than Python implementation","notes":"## Performance Optimizations Implemented\n\n### Changes Made:\n1. **Batch Size**: Increased from 10 to 100 records (orchestrator.rs:18)\n   - Matches Python's 100-record batches\n   - Reduces network round trips by 10x\n\n2. **Cache Implementation**: Switched from DashMap with manual eviction to lru::LruCache (cache.rs)\n   - O(1) eviction instead of O(n) iteration\n   - Automatic LRU behavior (matches Python's OrderedDict)\n\n3. **Metrics Overhead**: Removed RwLock on hot path (cache.rs)\n   - Switched to AtomicU64 counters\n   - Eliminates contention during high-frequency cache operations\n\n4. **Rate Limiting**: Increased from 6 to 15 requests/sec (bluesky.rs:14)\n   - Allows faster Bluesky API throughput\n\n5. **SQLite Batch Writes**: Optimized transaction handling (sqlite.rs)\n   - Pre-serializes JSON outside transaction\n   - Still uses transaction for atomicity but optimized inner loop\n\n### Benchmark Results:\n- cache_user_profile_set: ~198 µs for 1000 operations\n- cache_user_profile_get: ~97 µs for 1000 operations\n- Cache operations scale linearly with size\n\n### Build Status:\n✅ All 41 tests pass\n✅ Benchmarks run successfully","status":"closed","priority":1,"issue_type":"bug","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T16:50:18.562463-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T17:00:22.115441-08:00","closed_at":"2026-02-13T17:00:22.115441-08:00","close_reason":"Implemented 5 major performance optimizations: batch size 10→100, LRU cache replacing DashMap, AtomicU64 metrics removing RwLock, rate limit 6→15 req/s, optimized SQLite batch writes. All 41 tests pass. Changes pushed to main."}
{"id":"jetstream-turbo-tzz","title":"Remove graze.social dependency, use direct Bluesky auth","status":"closed","priority":2,"issue_type":"task","owner":"cmgriffing@gmail.com","created_at":"2026-02-09T16:21:41.687305-08:00","created_by":"Chris Griffing","updated_at":"2026-02-09T16:25:20.829661-08:00","closed_at":"2026-02-09T16:25:20.829661-08:00","close_reason":"Closed"}
{"id":"jetstream-turbo-uwg","title":"Fix Bluesky API URI parameter format","status":"closed","priority":1,"issue_type":"bug","owner":"cmgriffing@gmail.com","created_at":"2026-02-13T16:45:08.809606-08:00","created_by":"Chris Griffing","updated_at":"2026-02-13T16:45:50.312522-08:00","closed_at":"2026-02-13T16:45:50.312522-08:00","close_reason":"Fixed Bluesky API to send URIs as separate query parameters instead of comma-joined values"}
{"id":"jetstream-turbo-w3b","title":"Bluesky authentication failing - missing access_jwt field","description":"Authentication fails with error: missing field `access_jwt` at line 1 column 1491. Need to diagnose actual API response and fix AuthResponse parsing.","status":"in_progress","priority":0,"issue_type":"bug","owner":"cmgriffing@gmail.com","created_at":"2026-02-12T18:05:31.191828-08:00","created_by":"Chris Griffing","updated_at":"2026-02-12T18:05:36.77123-08:00"}
